<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groovy</title>
    <link rel="stylesheet" href="./Exercise 5 servlet/styles/ex5_c_home.css">
    <style>
        .cover:hover {
            border-color: #7827e7;
        }
    </style>
    <script>
        // Function to get a specific cookie by name
        function getCookie(name) {
            let decodedCookie = decodeURIComponent(document.cookie);
            let cookies = decodedCookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                let c = cookies[i].trim();
                if (c.indexOf(name + "=") === 0) {
                    return c.substring(name.length + 1, c.length);
                }
            }
            return "";
        }

        // Function to trigger the <a> tag click on page load
        window.onload = function() {
            document.getElementById("cookieLink").click();
            
            // Fetch username from the cookie and display it
            setTimeout(() => {
                let username = getCookie("userName");
                if (username) {
                    let s = "Hi ";
                    document.getElementById("username-display").innerText = s + username;
                } else {
                    document.getElementById("username-display").innerText = "Guest";
                }
            }, 100);
        };
    </script>
</head>
<body>
    <div class="main">
        <!-- Content area (d2) -->
        <div class="d2">
            <!-- Header area (d3) -->
            <div class="d3">
                <span id="username-display"></span>
                <div class="library-title">
                    <!-- Initially hidden link to trigger the servlet -->
                    <a href="#" id="cookieLink" style="display:none;"></a>
                </div>
                <div class="profile-icon">ðŸ‘¤</div>
            </div>

            <!-- Category grid (d4) -->
            <div class="d4">
                <div class="category-tile">
                    <img src="https://via.placeholder.com/150" alt="Category Image" class="category-image">
                    <div class="category-name">Pop</div>
                </div>
                <div class="category-tile">
                    <img src="https://via.placeholder.com/150" alt="Category Image" class="category-image">
                    <div class="category-name">Rock</div>
                </div>
                <div class="category-tile">
                    <img src="https://via.placeholder.com/150" alt="Category Image" class="category-image">
                    <div class="category-name">Jazz</div>
                </div>
                <div class="category-tile">
                    <img src="https://via.placeholder.com/150" alt="Category Image" class="category-image">
                    <div class="category-name">Hip Hop</div>
                </div>
                <div class="category-tile">
                    <img src="https://via.placeholder.com/150" alt="Category Image" class="category-image">
                    <div class="category-name">Classical</div>
                </div>
                <div class="category-tile">
                    <img src="https://via.placeholder.com/150" alt="Category Image" class="category-image">
                    <div class="category-name">Blues</div>
                </div>
                <div class="category-tile">
                    <img src="https://via.placeholder.com/150" alt="Category Image" class="category-image">
                    <div class="category-name">Country</div>
                </div>
                <div class="category-tile">
                    <img src="https://via.placeholder.com/150" alt="Category Image" class="category-image">
                    <div class="category-name">Electronic</div>
                </div>
            </div>

            <!-- Popular Songs Section -->
            <div class="popular-section">
                <h2 style="font-size: 2em;">Popular Songs</h2>
                <div class="popular-songs">
                    <!-- Song 1 -->
                    <div class="popular">
                        <a href="https://open.spotify.com/track/2GiJYvgVaD2HtM8GqD9EgQ">
                            <img class="cover" src="./Exercise 5 servlet/images/electric love.jpg" alt="Electric Love">
                        </a>
                        <a href="https://open.spotify.com/track/2GiJYvgVaD2HtM8GqD9EgQ" class="popular-song-name">Electric Love</a>
                        <div class="popular-singer-name">Borns</div>
                    </div>

                    <!-- Song 2 -->
                    <div class="popular">
                        <a href="https://open.spotify.com/track/42VsgItocQwOQC3XWZ8JNA">
                            <img class="cover" src="./Exercise 5 servlet/images/fein.jpg" alt="FEIN">
                        </a>
                        <a href="https://open.spotify.com/track/42VsgItocQwOQC3XWZ8JNA" class="popular-song-name">FEIN</a>
                        <div class="popular-singer-name">Travis Scott, Playboi Carti</div>
                    </div>

                    <!-- Song 3 -->
                    <div class="popular">
                        <a href="https://open.spotify.com/track/5FVd6KXrgO9B3JPmC8OPst">
                            <img class="cover" src="./Exercise 5 servlet/images/do i wanna know.jpg" alt="Do I Wanna Know">
                        </a>
                        <a href="https://open.spotify.com/track/5FVd6KXrgO9B3JPmC8OPst" class="popular-song-name">Do I Wanna Know</a>
                        <div class="popular-singer-name">Arctic Monkeys</div>
                    </div>

                    <!-- Song 4 -->
                    <div class="popular">
                        <a href="https://open.spotify.com/track/5LrN7yUQAzvthd4QujgPFr">
                            <img class="cover" src="./Exercise 5 servlet/images/here.jpg" alt="Here">
                        </a>
                        <a href="https://open.spotify.com/track/5LrN7yUQAzvthd4QujgPFr" class="popular-song-name">Here</a>
                        <div class="popular-singer-name">Alessia Shah</div>
                    </div>

                    <!-- Song 5 -->
                    <div class="popular">
                        <a href="https://open.spotify.com/track/4ztdjZ2t7BVo5DLIFQBdJh">
                            <img class="cover" src="./Exercise 5 servlet/images/jericho.jpg" alt="Jericho">
                        </a>
                        <a href="https://open.spotify.com/track/4ztdjZ2t7BVo5DLIFQBdJh" class="popular-song-name">Jericho</a>
                        <div class="popular-singer-name">Iniko</div>
                    </div>

                    <!-- Song 6 -->
                    <div class="popular">
                        <a href="https://open.spotify.com/album/7vus4Q8r5DS2Dl1JClxEsA">
                            <img class="cover" src="./Exercise 5 servlet/images/astronaut in the ocean.jpg" alt="Astronaut In The Ocean">
                        </a>
                        <a href="https://open.spotify.com/album/7vus4Q8r5DS2Dl1JClxEsA" class="popular-song-name">Astronaut In The Ocean</a>
                        <div class="popular-singer-name">Masked Wolf</div>
                    </div>

                    <!-- Song 7 -->
                    <div class="popular">
                        <a href="https://open.spotify.com/track/2gam98EZKrF9XuOkU13ApN">
                            <img class="cover" src="./Exercise 5 servlet/images/promiscuous.jpg" alt="Promiscuous">
                        </a>
                        <a class="popular-song-name" href="https://open.spotify.com/track/2gam98EZKrF9XuOkU13ApN">Promiscuous</a>
                        <div class="popular-singer-name">Nelly Furtado, Timbaland</div>
                    </div>

                    <!-- Song 8 -->
                    <div class="popular">
                        <a href="https://open.spotify.com/track/3M0lSi5WW79CXQamgSBIjx">
                            <img class="cover" src="./Exercise 5 servlet/images/swim.jpg" alt="Swim">
                        </a>
                        <a class="popular-song-name" href="https://open.spotify.com/track/3M0lSi5WW79CXQamgSBIjx">Swim</a>
                        <div class="popular-singer-name">Chase Atlantic</div>
                    </div>

                    <!-- Song 9 -->
                    <div class="popular">
                        <a href="https://open.spotify.com/track/0qMip0B2D4ePEjBJvAtYre">
                            <img class="cover" src="./Exercise 5 servlet/images/gurenge.jpg" alt="Gurenge">
                        </a>
                        <a class="popular-song-name" href="https://open.spotify.com/track/0qMip0B2D4ePEjBJvAtYre">Gurenge</a>
                        <div class="popular-singer-name">LiSA</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
